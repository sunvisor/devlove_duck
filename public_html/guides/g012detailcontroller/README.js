Ext.data.JsonP.g012detailcontroller({"guide":"<h2 id='g012detailcontroller-section-detail%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%83%BC'>Detailコントローラー</h2>\n\n<p>次に<code>Detail</code>ビューの制御をするコントローラーを作成します。</p>\n\n<ul>\n<li><p>Sencha Cmdでコントローラーを作成します。</p>\n\n<pre><code>  sencha generate controller Detail\n</code></pre></li>\n<li><p>app.jsに追加します。</p>\n\n<pre><code>  controllers: [\n      'List',\n      'Detail'\n  ],\n</code></pre></li>\n</ul>\n\n\n<h3 id='g012detailcontroller-section-refs'>refs</h3>\n\n<pre><code>    refs: {\n        navi: 'contactnavi',\n        detail: 'contactdetail',\n        editButton: 'button#editButton'\n    },\n</code></pre>\n\n<h3 id='g012detailcontroller-section-control'>control</h3>\n\n<pre><code>    control: {\n        detail : {\n            show: 'onShow',\n            hide: 'onHide'\n        },\n        editButton: {\n            tap: 'onEditData'\n        }\n    },\n</code></pre>\n\n<h3 id='g012detailcontroller-section-launch'>launch</h3>\n\n<ul>\n<li>起動時に実行。今回はいらない</li>\n</ul>\n\n\n<h3 id='g012detailcontroller-section-%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9%E3%83%BC'>ハンドラー</h3>\n\n<ul>\n<li><p><code>onShow</code>とonHideでは、ボタンの表示を制御します。</p>\n\n<pre><code>  onShow: function() {\n      this.getEditButton().show();\n  },\n\n  onHide: function () {\n      this.getEditButton().hide();\n  },\n</code></pre></li>\n<li><p>onEditDataではEditパネルを作り、DetailパネルのレコードセットしてNavigationViewにプッシュします。</p>\n\n<pre><code>  onEditData: function() {\n      var me = this,\n          record = me.getDetail().getRecord(),\n          edit = Ext.widget('contactedit');\n\n      edit.setRecord(record);\n      me.getNavi().push(edit);\n  }\n</code></pre></li>\n<li><p>表示してみましょう。Detailパネルが表示されると編集ボタンが登場し、編集ボタンをタップすると、フォームが表示されます。</p></li>\n<li><p>Listコントローラーを変更して新規追加の処理も書きましょう</p>\n\n<pre><code>  onAddData: function() {\n      var me = this,\n          record = Ext.create('ContactList.model.Contact'),\n          edit = Ext.widget('contactedit');\n\n      edit.setRecord(record);\n      me.getNavi().push(edit);\n  }\n</code></pre></li>\n<li><p>空のレコードをセットして、Editパネルをプッシュしています。</p></li>\n</ul>\n\n","title":"Detailコントローラー"});