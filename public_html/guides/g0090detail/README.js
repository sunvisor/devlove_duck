Ext.data.JsonP.g0090detail({"guide":"<h2 id='g0090detail-section-detail%E3%83%93%E3%83%A5%E3%83%BC'>Detailビュー</h2>\n\n<p>リストのディスクロージャーがタップされた時に表示されるDetailパネルに、選択されたレコードの内容を表示させます。</p>\n\n<p>パネルにレコードの内容を表示させるためにテンプレートを使います。\nListを作ったときに <code>itemTpl</code> を使いましたが、それと同じようにフィールドを表示させるプレースホルダを <code>{foo}</code> のように指定することができます。</p>\n\n<h3 id='g0090detail-section-%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%2309'>やってみよう #09</h3>\n\n<blockquote><p>※ 直前のハンズオンがうまくいかなかった方のために、ここまでの結果を用意しています。\n<a href=\"http://sencha.sunvisor.net/devlove/cl08.zip\">こちらからダウンロードして</a>\nドキュメントルートのdevloveディレクトリの下に解凍してください。</p></blockquote>\n\n<h3 id='g0090detail-section-model%E3%81%AB%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E8%BF%BD%E5%8A%A0'>Modelにフィールドを追加</h3>\n\n<p>サーバーから取得している連絡先リストのデータは、実はより多くの情報を持っています。\nそれらの情報も取得するようにModelの定義を変更し、<code>fields</code> に追加します。</p>\n\n<pre><code>    fields: [\n        { name: 'last_name', type: 'string' },\n        { name: 'first_name', type: 'string' },\n        { name: 'last_kana', type: 'string' },\n        { name: 'first_kana', type: 'string' },\n        { name: 'gender', type: 'string' },\n        { name: 'phone', type: 'string' },\n        { name: 'email', type: 'string' },\n        { name: 'initial', type: 'string' },\n        // ここから追加\n        { name: 'pref', type: 'string'},\n        { name: 'add1', type: 'string'},\n        { name: 'add2', type: 'string'},\n        { name: 'add3', type: 'string'},\n        { name: 'add4', type: 'string'},\n        { name: 'birthday', type: 'date'}\n    ],\n</code></pre>\n\n<h3 id='g0090detail-section-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88'>テンプレート</h3>\n\n<p>フォームへのレコードの設定</p>\n\n<p><code>html: 'Detail Panel'</code> の代わりに次のテンプレートをセットします。</p>\n\n<pre><code>tpl: [\n    '&lt;table class=\"contactlist_detail\"&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;氏名&lt;/th&gt;',\n            '&lt;td&gt;{last_name} {first_name}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;ふりがな&lt;/th&gt;',\n            '&lt;td&gt;{last_kana} {first_kana}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;誕生日&lt;/th&gt;',\n            '&lt;td&gt;{birthday:date(\"Y年m月d日\")}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;性別&lt;/th&gt;',\n            '&lt;td&gt;{gender}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;電話&lt;/th&gt;',\n            '&lt;td&gt;{phone}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;メール&lt;/th&gt;',\n            '&lt;td&gt;{email}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;住所&lt;/th&gt;',\n            '&lt;td&gt;{pref}{add1}{add2}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n        '&lt;tr&gt;',\n            '&lt;th&gt;住所2&lt;/th&gt;',\n            '&lt;td&gt;{add3}{add4}&lt;/td&gt;',\n        '&lt;/tr&gt;',\n    '&lt;/table&gt;'\n].join('\\n')\n</code></pre>\n\n<h3 id='g0090detail-section-%E3%83%91%E3%83%8D%E3%83%AB%E3%81%B8%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88'>パネルへのデータのセット</h3>\n\n<p>パネルに設定されたテンプレートにデータを適用させるには、<code>setData()</code> メソッドを使います。\nコントローラーの <code>onDisclose</code> イベントリスナーを変更します。</p>\n\n<pre><code>onDisclose: function(list, record) {\n    var me = this,\n    detail = Ext.create('ContactList.view.Detail');\n\n    // パネルにデータをセット\n    detail.setRecord(record);\n    me.getNavi().push(detail);\n}\n</code></pre>\n\n<ul>\n<li>ブラウザで表示してみて、ディスクロージャーをタップしてみます。</li>\n<li>データが表示されたパネルが表示されることを確認してください。</li>\n<li>このようにわずか1行でデータをパネルに反映することができました。</li>\n</ul>\n\n","title":"Detailビューの作成"});