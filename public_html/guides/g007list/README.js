Ext.data.JsonP.g007list({"guide":"<h1 id='g007list-section-list%E3%83%93%E3%83%A5%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90'>Listビューの作成</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/g007list-section-%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%2306'>やってみよう #06</a></li>\n<li><a href='#!/guide/g007list-section-%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%2307'>やってみよう #07</a></li>\n</ol>\n</div>\n\n<p>Listというコンポーネントは、その名の通り一覧を表示するためのコンポーネントです。</p>\n\n<pre class='inline-example miniphone preview'><code>Ext.define('Contact', {\n    extend: 'Ext.data.Model',\n    config: {\n        fields: ['firstName', 'lastName']\n    }\n});\n\nvar store = Ext.create('Ext.data.Store', {\n   model: 'Contact',\n   sorters: 'lastName',\n\n   grouper: {\n       groupFn: function(record) {\n           return record.get('lastName')[0];\n       }\n   },\n\n   data: [\n       { firstName: 'Tommy',   lastName: 'Maintz'  },\n       { firstName: 'Rob',     lastName: 'Dougan'  },\n       { firstName: 'Ed',      lastName: 'Spencer' },\n       { firstName: 'Jamie',   lastName: 'Avins'   },\n       { firstName: 'Aaron',   lastName: 'Conran'  },\n       { firstName: 'Dave',    lastName: 'Kaneda'  },\n       { firstName: 'Jacky',   lastName: 'Nguyen'  },\n       { firstName: 'Abraham', lastName: 'Elias'   },\n       { firstName: 'Jay',     lastName: 'Robinson'},\n       { firstName: 'Nigel',   lastName: 'White'   },\n       { firstName: 'Don',     lastName: 'Griffin' },\n       { firstName: 'Nico',    lastName: 'Ferrero' },\n       { firstName: 'Jason',   lastName: 'Johnston'}\n   ]\n});\n\nExt.create('Ext.List', {\n   fullscreen: true,\n   itemTpl: '&lt;div class=\"contact\"&gt;{firstName} &lt;strong&gt;{lastName}&lt;/strong&gt;&lt;/div&gt;',\n   store: store,\n   grouped: true\n});\n</code></pre>\n\n<h2 id='g007list-section-%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%2306'>やってみよう #06</h2>\n\n<blockquote><p>※ 直前のハンズオンがうまくいかなかった方のために、ここまでの結果を用意しています。\n<a href=\"http://sencha.sunvisor.net/devlove/cl05.zip\">こちらからダウンロードして</a>\nドキュメントルートのdevloveディレクトリの下に解凍してください。</p></blockquote>\n\n<h3 id='g007list-section-list%E3%83%93%E3%83%A5%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90'>Listビューの作成</h3>\n\n<ul>\n<li>app/view ディレクトリの下にList.jsファイルを作ります。</li>\n<li><p>List.jsファイルに、<code>Ext.List</code>を継承してデータを表示するリストを作ります。</p>\n\n<pre><code>  Ext.define('ContactList.view.List', {\n      extend: 'Ext.List',\n\n      xtype: 'contactlist',\n\n      requires: [\n          'ContactList.store.Contacts'\n      ],\n\n      config: {\n          title: '連絡先リスト',\n          store: 'Contacts',\n          itemTpl: '{last_name} {first_name}'\n      }\n  });\n</code></pre></li>\n<li><p>Storeを使うので、<code>requires</code>配列にStoreのクラス名を入れています。</p></li>\n<li><code>store</code> コンフィグにStoreの名前をセットするだけで、StoreとListをバインドできます。</li>\n<li><code>itemTpl</code> コンフィグにはListに表示する内容のテンプレートを設定します。\nここでは、<code>last_name</code> と <code>first_name</code> の二つのフィールドを表示しています。</li>\n</ul>\n\n\n<h3 id='g007list-section-main%E3%83%93%E3%83%A5%E3%83%BC%E3%81%AE%E5%A4%89%E6%9B%B4'>Mainビューの変更</h3>\n\n<ul>\n<li>タブの最初のitemsにContactList.view.Listを表示させましょう。</li>\n<li><p>タブの次のitemsは、このアプリについての説明を書きます。</p></li>\n<li><p>app/view/Main.js をエディタで開きます。</p></li>\n<li>requires 配列にある Ext.Video の行を削除して、\n'ContactList.view.List'\nにします。</li>\n<li>configの中にある <code>items</code> 配列の一つ目の要素には、さきほど作ったListを表示させます。\n\n<ul>\n<li><code>xtype: 'contactlist'</code></li>\n<li><code>title: 'Contact'</code> - これはタブに表示されるタイトル</li>\n<li><code>iconCls: 'list'</code> - これはタブに表示するアイコン</li>\n</ul>\n</li>\n<li><code>items</code> 配列の二つ目の要素には、タイトルバーをつけるとともに、アプリケーションの紹介を記述します。\n\n<ul>\n<li><code>title: 'About'</code></li>\n<li><code>iconCls: 'info'</code></li>\n<li><code>items</code> タイトルバーを表示させます。</li>\n<li><code>styleHtmlContent: true</code> 見た目を調整</li>\n<li>html ボディの内容をHTMLで設定</li>\n</ul>\n</li>\n<li><p>出来上がったコードは次のようになります。</p>\n\n<pre><code>  Ext.define('ContactList.view.Main', {\n      extend: 'Ext.tab.Panel',\n      xtype: 'main',\n      requires: [\n          'Ext.TitleBar',\n          'ContactList.view.List'\n      ],\n      config: {\n          tabBarPosition: 'bottom',\n\n          items: [\n              {\n                  title: 'Contact',\n                  iconCls: 'list',\n                  xtype: 'contactlist'\n              }, {\n                  title: 'About',\n                  iconCls: 'info',\n\n                  items: [\n                      {\n                          docked: 'top',\n                          xtype: 'titlebar',\n                          title: 'DevLove関西'\n                      }\n                  ],\n\n                  styleHtmlContent: true,\n\n                  html: [\n                      'このアプリは',\n                      '&lt;strong&gt;DevLove関西&lt;/strong&gt;',\n                      'でのサンプルアプリです'\n                  ].join(\"\")\n              }\n          ]\n      }\n  });\n</code></pre></li>\n<li><p>表示してみましょう。</p></li>\n</ul>\n\n\n<h3 id='g007list-section-store%E3%81%AE%E3%83%AD%E3%83%BC%E3%83%89'>Storeのロード</h3>\n\n<p>app.jsのlaunchメソッドの最後に1行追加して、Storeをロードします。</p>\n\n<pre><code>Ext.getStore('Contacts').load();\n</code></pre>\n\n<p>表示してみましょう。</p>\n\n<h3 id='g007list-section-%E3%82%BD%E3%83%BC%E3%83%88%E3%81%A8%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%83%90%E3%83%BC'>ソートとインデックスバー</h3>\n\n<p>現在表示されているデータは、順番がでたらめです。\nこれを五十音順にしてみましょう。</p>\n\n<h2 id='g007list-section-%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%2307'>やってみよう #07</h2>\n\n<blockquote><p>※ 直前のハンズオンがうまくいかなかった方のために、ここまでの結果を用意しています。\n<a href=\"http://sencha.sunvisor.net/devlove/cl06.zip\">こちらからダウンロードして</a>\nドキュメントルートのdevloveディレクトリの下に解凍してください。</p></blockquote>\n\n<h3 id='g007list-section-paging'>Paging</h3>\n\n<ul>\n<li>これまで表示されていたデータは25件。本当は300件のデータがサーバー上にあります。</li>\n<li><p>ListPagingプラグインを入れます。</p>\n\n<pre><code>  plugins: [{\n      xclass: 'Ext.plugin.ListPaging',\n      autoPaging: true\n  }]\n</code></pre></li>\n<li><p>プラグインのクラスをrequires配列に追加します。</p>\n\n<pre><code>  requires: [\n      'ContactList.store.Contacts',\n      'Ext.plugin.ListPaging' // 追加\n  ],\n</code></pre></li>\n<li><p>表示させ、最後までスクロールしてみるとLoad More...と表示され、新しいレコードが読み込まれるようになります。</p></li>\n</ul>\n\n\n<h3 id='g007list-section-store%E3%81%AEsorters'>storeのsorters</h3>\n\n<ul>\n<li>並ぶ順序がバラバラなので並び替えます。</li>\n<li><p>並び替えをするには、ストアに<code>sorters</code>コンフィグを設定します。</p>\n\n<pre><code>  sorters: ['name_kana'],\n</code></pre></li>\n<li><p>ローカルでソートしているので、まだ順序が正しくありません。</p>\n\n<pre><code>  remoteSort: true,\n</code></pre></li>\n<li><p>表示させて、正しい順序で動作することを確認しましょう。</p></li>\n</ul>\n\n\n<h3 id='g007list-section-%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%8C%96'>グループ化</h3>\n\n<ul>\n<li><p>Modelにフィールドを追加します。</p>\n\n<pre><code>  { name: 'initial', type: 'string' }\n</code></pre></li>\n<li><p>Listにgroupedコンフィグを設定します。</p>\n\n<pre><code>  grouped: true,\n</code></pre></li>\n<li><p>ストアに<code>groupers</code>コンフィグを設定します。</p>\n\n<pre><code>  grouper: {\n      property: 'initial'\n  }\n</code></pre></li>\n<li><p>フリガナの頭文字ごとにグループ分けされたのがわかります。</p></li>\n</ul>\n\n\n<h3 id='g007list-section-disclose'>disclose</h3>\n\n<ul>\n<li><code>onItemDisclosure</code> コンフィグを <code>true</code> にすると、リストにディスクロージャーが表示されます。</li>\n<li>ついでに行選択ができないようにしておきます。<code>disableSelection: true</code></li>\n</ul>\n\n","title":"Listビューの作成"});